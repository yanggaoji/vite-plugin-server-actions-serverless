# Cloudflare Workers configuration
name = "vite-server-actions"
main = "dist/workers.js"
compatibility_date = "2024-01-01"
node_compat = true

# Build configuration
[build]
command = "npm run build"

[build.upload]
format = "modules"
dir = "dist"
main = "./workers.js"
rules = [
  { type = "ESModule", globs = ["**/*.js"] }
]

# Environment variables (use wrangler secret for sensitive data)
[vars]
NODE_ENV = "production"
# Add non-sensitive variables here
# LOG_LEVEL = "info"

# For sensitive data, use: wrangler secret put SECRET_NAME
# Then access in code with: env.SECRET_NAME

# Custom domains (optional)
# [[routes]]
# pattern = "api.yourdomain.com/*"
# zone_name = "yourdomain.com"

# KV namespaces (optional, for data storage)
# [[kv_namespaces]]
# binding = "MY_KV"
# id = "your_kv_namespace_id"

# D1 databases (optional, for SQL storage)
# [[d1_databases]]
# binding = "DB"
# database_name = "your-database"
# database_id = "your-database-id"

# R2 buckets (optional, for file storage)
# [[r2_buckets]]
# binding = "MY_BUCKET"
# bucket_name = "your-bucket-name"
